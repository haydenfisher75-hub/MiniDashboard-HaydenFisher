<Window x:Class="MiniDashboard.App.Views.ItemDialogWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="{Binding WindowTitle}"
        Width="450" Height="500"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        ShowInTaskbar="False">
    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="100" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <TextBlock Grid.Row="0" Text="Name:" VerticalAlignment="Center" Margin="0,4" />
        <TextBox Grid.Row="0" Grid.Column="1"
                 AutomationProperties.AutomationId="ItemName"
                 Text="{Binding Name, UpdateSourceTrigger=PropertyChanged}" Margin="0,4" />

        <TextBlock Grid.Row="1" Text="Description:" VerticalAlignment="Top" Margin="0,4" />
        <TextBox Grid.Row="1" Grid.Column="1"
                 AutomationProperties.AutomationId="ItemDescription"
                 Text="{Binding Description, UpdateSourceTrigger=PropertyChanged}"
                 TextWrapping="Wrap" AcceptsReturn="True" Height="60" Margin="0,4" />

        <TextBlock Grid.Row="2" Text="Type:" VerticalAlignment="Center" Margin="0,4" />
        <ComboBox Grid.Row="2" Grid.Column="1"
                  AutomationProperties.AutomationId="ItemType"
                  ItemsSource="{Binding Types}"
                  SelectedItem="{Binding SelectedType}"
                  DisplayMemberPath="Name" Margin="0,4" />

        <TextBlock Grid.Row="3" Text="Category:" VerticalAlignment="Center" Margin="0,4" />
        <ComboBox Grid.Row="3" Grid.Column="1"
                  AutomationProperties.AutomationId="ItemCategory"
                  ItemsSource="{Binding FilteredCategories}"
                  SelectedItem="{Binding SelectedCategory}"
                  DisplayMemberPath="Name" Margin="0,4" />

        <TextBlock Grid.Row="4" Text="Price:" VerticalAlignment="Center" Margin="0,4" />
        <TextBox Grid.Row="4" Grid.Column="1"
                 AutomationProperties.AutomationId="ItemPrice"
                 Text="{Binding Price, UpdateSourceTrigger=PropertyChanged}" Margin="0,4" />

        <TextBlock Grid.Row="5" Text="Quantity:" VerticalAlignment="Center" Margin="0,4" />
        <TextBox Grid.Row="5" Grid.Column="1"
                 AutomationProperties.AutomationId="ItemQuantity"
                 Text="{Binding Quantity, UpdateSourceTrigger=PropertyChanged}" Margin="0,4" />

        <TextBlock Grid.Row="6" Text="Discount %:" VerticalAlignment="Center" Margin="0,4" />
        <TextBox Grid.Row="6" Grid.Column="1"
                 AutomationProperties.AutomationId="ItemDiscount"
                 Text="{Binding Discount, UpdateSourceTrigger=PropertyChanged}" Margin="0,4" />

        <TextBlock Grid.Row="7" Grid.ColumnSpan="2"
                   Text="{Binding ErrorMessage}" Foreground="Red"
                   FontWeight="Bold" Margin="0,8" TextWrapping="Wrap" />

        <StackPanel Grid.Row="9" Grid.ColumnSpan="2" Orientation="Horizontal"
                    HorizontalAlignment="Right">
            <Button Content="Save" Width="80" Margin="0,0,8,0"
                    AutomationProperties.AutomationId="SaveButton"
                    Command="{Binding SaveCommand}" IsDefault="True" />
            <Button Content="Cancel" Width="80"
                    AutomationProperties.AutomationId="CancelButton"
                    IsCancel="True" />
        </StackPanel>
    </Grid>
</Window>
